<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="true" > 
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
  
  

  
  <title>OM3论文学习笔记 | cherry blessing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta name="description" content="OM3阅读笔记关键字渐进式可视化，交互式可视化，支持缩放，平移等操作，增量树，时间序列 问题背景几乎所有现有技术都需要将整个数据快速加载到客户端以实现高效渲染。然而，对于存储在远程数据库中的大型时间序列数据，延迟通常很高。这阻碍了在不同分辨率下对时序数据进行平滑的交互式探索。 减少延迟的方法： 数据降维：通过在可视化之前聚合数据以减小其大小。为了在降维过程中保留显著特征，已经提出了多种策略。然而，">
<meta property="og:type" content="article">
<meta property="og:title" content="OM3论文学习笔记">
<meta property="og:url" content="https://meguriri.github.io/2025/11/05/OM3%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="cherry blessing">
<meta property="og:description" content="OM3阅读笔记关键字渐进式可视化，交互式可视化，支持缩放，平移等操作，增量树，时间序列 问题背景几乎所有现有技术都需要将整个数据快速加载到客户端以实现高效渲染。然而，对于存储在远程数据库中的大型时间序列数据，延迟通常很高。这阻碍了在不同分辨率下对时序数据进行平滑的交互式探索。 减少延迟的方法： 数据降维：通过在可视化之前聚合数据以减小其大小。为了在降维过程中保留显著特征，已经提出了多种策略。然而，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-202511111.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251104201016981.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251104202211969.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251105170728537.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251105172237754.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251104202718600.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251105174828508.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251105182459625.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251106000339500.png">
<meta property="og:image" content="https://meguriri.github.io/images/2025/11/image-20251105184603440.png">
<meta property="article:published_time" content="2025-11-05T13:48:57.000Z">
<meta property="article:modified_time" content="2025-11-06T10:50:58.349Z">
<meta property="article:author" content="meguriri">
<meta property="article:tag" content="可视化">
<meta property="article:tag" content="渐进式查询">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://meguriri.github.io/images/2025/11/image-202511111.png">
  
    <link rel="alternate" href="/atom.xml" title="cherry blessing" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head>

<body>
  
  
    
<div id="banner" class="">
  <img src="/banner.png" itemprop="image">
  <div id="banner-dim"></div>
</div>
 
   
  <div id="main-grid" class="  ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>cherry blessing </div>
    </a>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/></svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/></svg></span>
    </a>
    
      <a id="nav-rss-link" class="nav-icon mobile-hide" href="/atom.xml" title="RSS 订阅">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M198-120q-25.846 0-44.23-18.384-18.384-18.385-18.384-44.23 0-25.846 18.384-44.23 18.384-18.385 44.23-18.385 25.846 0 44.23 18.385 18.384 18.384 18.384 44.23 0 25.845-18.384 44.23Q223.846-120 198-120Zm538.385 0q-18.846 0-32.923-13.769-14.076-13.769-15.922-33.23-8.692-100.616-51.077-188.654-42.385-88.039-109.885-155.539-67.5-67.501-155.539-109.885Q283-663.462 182.385-672.154q-19.461-1.846-33.23-16.23-13.769-14.385-13.769-33.846t14.076-32.922q14.077-13.461 32.923-12.23 120.076 8.692 226.038 58.768 105.961 50.077 185.73 129.846 79.769 79.769 129.846 185.731 50.077 105.961 58.769 226.038 1.231 18.846-12.538 32.922Q756.461-120 736.385-120Zm-252 0q-18.231 0-32.423-13.461t-18.653-33.538Q418.155-264.23 348.886-333.5q-69.27-69.27-166.501-84.423-20.077-4.462-33.538-18.961-13.461-14.5-13.461-33.346 0-19.076 13.884-33.23 13.884-14.153 33.115-10.922 136.769 15.384 234.384 112.999 97.615 97.615 112.999 234.384 3.231 19.23-10.538 33.115Q505.461-120 484.385-120Z"/></svg>
      </a>
    
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/></svg>
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">Home</a>
    
      <a class="nav-dropdown-link" href="/archives">Archives</a>
    
      <a class="nav-dropdown-link" href="/about">About</a>
    
    
      <a class="nav-dropdown-link" href="/atom.xml" title="RSS 订阅">RSS</a>
     
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
        <image src=/meguriri.png></image>
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">meguriri </div>
      <div class="dot"></div>
      <div class="subtitle">Blessing SoftWare🌸 </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://steamcommunity.com/profiles/76561198147007541/" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/meguriri" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

  
  <div class="sticky">
    
      


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">分类</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/%E5%B7%A5%E5%85%B7/">
                工具
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">
                论文笔记
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">
                分布式系统
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                机器学习
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E6%B5%8B%E8%AF%95/">
                测试
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">标签</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/code/" rel="tag">code</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E4%BA%8B%E5%8A%A1/" rel="tag">事务</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">复习笔记</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E6%B8%90%E8%BF%9B%E5%BC%8F%E6%9F%A5%E8%AF%A2/" rel="tag">渐进式查询</a></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">归档</h3>
      
      
        <a class="archive-link" href="/archives/2025/11 ">
          十一月 2025 
          <div class="archive-count">2 </div>
        </a>
      
        <a class="archive-link" href="/archives/2024/11 ">
          十一月 2024 
          <div class="archive-count">1 </div>
        </a>
      
        <a class="archive-link" href="/archives/2024/09 ">
          九月 2024 
          <div class="archive-count">2 </div>
        </a>
      
        <a class="archive-link" href="/archives/2024/05 ">
          五月 2024 
          <div class="archive-count">1 </div>
        </a>
      
        <a class="archive-link" href="/archives/2024/04 ">
          四月 2024 
          <div class="archive-count">1 </div>
        </a>
      
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">最新文章</h3>
      <ul>
        
          <a class="recent-link" href="/2025/11/06/Transformation%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/" title="Visualization-Oriented Progressive Time Series Transformation论文笔记" >
            <div class="recent-link-text">
              Visualization-Oriented Progressive Time Series Transformation论文笔记
            </div>
          </a>
        
          <a class="recent-link" href="/2025/11/05/OM3%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="OM3论文学习笔记" >
            <div class="recent-link-text">
              OM3论文学习笔记
            </div>
          </a>
        
          <a class="recent-link" href="/2024/11/17/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="机器学习复习笔记" >
            <div class="recent-link-text">
              机器学习复习笔记
            </div>
          </a>
        
          <a class="recent-link" href="/2024/09/10/%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/" title="二阶段提交" >
            <div class="recent-link-text">
              二阶段提交
            </div>
          </a>
        
          <a class="recent-link" href="/2024/09/09/paxos%E7%90%86%E8%A7%A3/" title="paxos理解" >
            <div class="recent-link-text">
              paxos理解
            </div>
          </a>
        
      </ul>
    </div>
  </div>

    
  </div>
</sidebar>
    </div>
    <div id="content-body">
       


<article id="post-OM3论文学习笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
    
   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        OM3论文学习笔记
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2025-11-05T13:48:57.000Z" itemprop="datePublished">2025-11-05</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/">论文笔记</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            6.3k 词 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B8%90%E8%BF%9B%E5%BC%8F%E6%9F%A5%E8%AF%A2/" rel="tag">渐进式查询</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <h1 id="OM3阅读笔记"><a href="#OM3阅读笔记" class="headerlink" title="OM3阅读笔记"></a>OM3阅读笔记</h1><h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>渐进式可视化，交互式可视化，支持缩放，平移等操作，增量树，时间序列</p>
<h2 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h2><p>几乎所有现有技术都需要将整个数据快速加载到客户端以实现高效渲染。然而，对于存储在远程数据库中的大型时间序列数据，延迟通常很高。这阻碍了在不同分辨率下对时序数据进行平滑的交互式探索。</p>
<h3 id="减少延迟的方法："><a href="#减少延迟的方法：" class="headerlink" title="减少延迟的方法："></a>减少延迟的方法：</h3><ul>
<li>数据降维：通过在可视化之前聚合数据以减小其大小。为了在降维过程中保留显著特征，已经提出了多种策略。然而，它们大多没有考虑例如调整显示大小等感知效应，因此经常产生错误的可视化，从而显著扭曲渲染数据的形状。例子：M4</li>
<li>渐进式可视化：可视化立即渲染用户可以潜在交互的中间结果，而不是等待缓慢的查询。它使用基于在线采样的技术来逐步揭示显著特征，每次更新都会发送一个新的结果集进行可视化，因此网络成本与更新次数呈线性关系。例子：IncVisage</li>
</ul>
<h3 id="本文实现："><a href="#本文实现：" class="headerlink" title="本文实现："></a>本文实现：</h3><p>OM3 是一种有序的多级最小-最大表示法。在每个时间间隔中维护最小值和最大值，这些值用于在显示窗口中以宽度为 2 的像素列中光栅化第 i 级（0 &lt; i &lt; ⌈log n⌉）的像素列。此外，它还跟踪叶级成对的最小值和最大值的时序顺序。为此，我们制定了前向 OM 变换，以递归地聚合不同时间间隔的不同分辨率的时间序列，构建通过聚合和差异获得的系数层次结构。<strong>本文适合均匀采样的时间序列。</strong></p>
<h2 id="线段聚合"><a href="#线段聚合" class="headerlink" title="线段聚合"></a>线段聚合</h2><h3 id="定义1"><a href="#定义1" class="headerlink" title="定义1"></a>定义1</h3><p>时间序列  $T &#x3D; {(t_i ,v_i ))}^n_{i&#x3D;1}$ 是一个均匀采样数据点的有序列表，</p>
<p>其中 i 是索引，ti 是第 i 个时间戳 (ti &lt; ti+1)，vi 是时间 ti 的数据值。</p>
<h3 id="定义2"><a href="#定义2" class="headerlink" title="定义2"></a>定义2</h3><p>时间序列的等距分组是指将时间序列 T 分割成 w 个宽度相同的组，且这些组之间互不重叠：</p>
<p>G(T, w) &#x3D; {B1, B2, · · ·, Bw}，其中每个组Bi 包含时间间隔 [(i − 1) ∗ δ + 1, i ∗ δ] 内的数据点，δ 为 round(n&#x2F;w)，w 为显示窗口宽度。对于每个组，其值范围为 Oi &#x3D; [Gmin(T, w, i), Gmax(T, w, i)]，分别由最小值 Gmin(T, w, i) 和最大值 Gmax(T, w, i) 定义。</p>
<h3 id="定义3"><a href="#定义3" class="headerlink" title="定义3"></a>定义3</h3><p>如果时间序列 T 的线可视化渲染出的前景像素集合与通过栅格化 T 中所有数据点的所有线段而渲染出的集合相同，则称该线可视化无误差。</p>
<h3 id="定义4"><a href="#定义4" class="headerlink" title="定义4"></a>定义4</h3><p>对于每个组 Bi，列内线段由该组的 Gmin(T, w, i) 和 Gmax(T, w, i) 定义，而 Bi 与下一个组 Bi+1 之间的列间线段由连接 Bi 的最后一个数据记录和 Bi+1 的第一个数据记录定义。</p>
<h3 id="定义5"><a href="#定义5" class="headerlink" title="定义5"></a>定义5</h3><p>对于给定的等距分组 T，其线段聚合 Gl(T, w) 由以下部分组成：</p>
<p>每个分组内的一个列内线段，以及所有列间线段，这些列间线段包含的像素在 Oi 和 Oi+1 范围内完全被覆盖。</p>
<h3 id="定理1"><a href="#定理1" class="headerlink" title="定理1"></a>定理1</h3><p>通过对时间序列 T 的线段聚合 G(T, w)进行光栅化所产生的时间序列线可视化是无误差的。证明。如果一列间线段的值范围 Q &#x3D; [vj, vj+1]在 Oi∩Oi+1 内，则相应的列间像素将被列内像素集覆盖。因此，列间线（例如(d)中的线段 2）对于确保无误差可视化不是必需的。然而，如果其 Q 不在 Oi∩Oi+1 内（例如，图 1(d)中的线段 L1），则列间线段是不可或缺的，因为 L 可以光栅化为列内像素外的像素。将这些像素结合起来，我们就可以确保无误差可视化。对于在列 Bi 和列 Bi+1 之间缺少数据值的时间序列，使用两列之间的列间线段可以帮助确保生成无误差的可视化。</p>
<p><img src="/images/2025/11/image-202511111.png" alt="image-2025110420101698"></p>
<p>M4 在每个像素列中定位最大和最小时间戳的两个数据点以及最大和最小数据值的两个数据点。然后将这些点连接起来形成表示线形图的线段。图 1(c)显示了其结果。该结果与直接光栅化图 1(a)中显示的所有数据点产生的可视化完全匹配。然而，M4 形成的某些列间线段是冗余的（但虚线段是冗余且不必要的），对于生成无误差的可视化是不必要的。(b) 最小-最大聚合的可视化产生一个缺失像素；(d) 通过首先栅格化每个像素列中由最小-最大聚合结果定义的线（绿色），然后栅格化相邻像素列之间的必要列间线（L1，L2），所有像素都被正确设置。</p>
<p><img src="/images/2025/11/image-20251104201016981.png" alt="image-20251104201016981"></p>
<h2 id="系统图"><a href="#系统图" class="headerlink" title="系统图"></a>系统图</h2><h3 id="离线预处理"><a href="#离线预处理" class="headerlink" title="离线预处理"></a>离线预处理</h3><p>它由两个阶段组成：离线预处理和在线查询。离线预处理。应用 OM3 预处理程序将服务器上关系数据库中存储的每个时间序列通过正向变换转换为我们的 OM 3</p>
<h3 id="在线查询"><a href="#在线查询" class="headerlink" title="在线查询"></a>在线查询</h3><p>一旦 OM 3可用，用户就可以在客户端通过从服务器检索必要的系数来交互式地探索数据，并通过逆变换重建原始数据记录。要从头开始生成可视化，服务器可以根据显示窗口的宽度和显示窗口中时间序列的可见时间范围自动生成查询语句来检索系数。然后，客户端从服务器接收系数流来生成可视化，同时将重建数据的 OM 3树作为缓存，以加速交互式探索期间后续的可视化生成。为了支持流畅的交互，服务器执行增量查询来按需请求数据，使客户端能够利用树层次结构平滑地平移、缩放、调整大小和查询时间序列。</p>
<p>OM3 天生要求时间序列是完整的（即没有缺失值），并且长度是 2 的幂。它还要求窗口宽度是 2 的幂。然而，在交互式数据探索过程中，这些要求对于一般时间序列数据都无法保证。因此，我们进一步<strong>扩展 OM3</strong> 来解决这些问题。</p>
<p><img src="/images/2025/11/image-20251104202211969.png" alt="image-20251104202211969"></p>
<h2 id="OM3变换"><a href="#OM3变换" class="headerlink" title="OM3变换"></a>OM3变换</h2><p>给定长度n为2的时间序列T，通过两种操作获得分层的线段聚合：</p>
<ul>
<li>分层min-max聚合：构造min-max线段</li>
<li>在最细粒度层对min-max结果的排序：构造像素列间的线段</li>
</ul>
<h3 id="前向变换"><a href="#前向变换" class="headerlink" title="前向变换"></a>前向变换</h3><p>首先把长度为n每个时间序列的数据复制一份（为了确保min-max准确无误），然后得到A4i，A4i+1，A4i+2，A4i+3 其中0&lt;&#x3D;i&lt;n&#x2F;2。 这是第j&#x3D;logn层的数据。接着生成j-1层的数据。使用如下的策略：</p>
<p>​	<img src="/images/2025/11/image-20251105170728537.png" alt="image-20251105170728537"></p>
<p>接着计算差分值，这个有助于判断min-max的位置。也就是D</p>
<p>以min举例如果D值是个正数，说明这个min值在4i+2的位置，另一个为min+D在4i的位置，同理max的话如果D是正数，说明max值在4i+1的位置，另一个值为max-D在4i+3的位置。</p>
<p>递归的向上建立树。直到第0层。接下来就可以把他们呢存储在数据库的表中，由于差分值的存在，只需要存第0层的A0和A1与所有的差分值就可以重建这个树。注意，到第logn-1层的时候其实就已经可以得到数据了，因为logn层为每个数据复制一次的。现在有一个问题就是，不知道logn-1层的顺序，因为min和max都是从i和i+1中选的数，因此数据库中还有一个表记录他们的顺序。false代表顺序是反的，true代表顺序是对的。因此只需要n+n&#x2F;2的数据表大小的数据就可以把数据存储起来，而原始数据每个点需要存ti和vi，这是2n的大小。存储的系数大小大约是原来的3&#x2F;4。</p>
<h3 id="逆向变换"><a href="#逆向变换" class="headerlink" title="逆向变换"></a>逆向变换</h3><p>如下面所示，如果D是负数，说明A4i小于A4i+2，那么min应该是A4i，也就是A2i&#x3D;A4i，</p>
<p>D为正数，则A4i大于A4i+2，则min应该是A4i+2，也就是A2i &#x3D; A4i+2。</p>
<p><img src="/images/2025/11/image-20251105172237754.png" alt="image-20251105172237754"></p>
<p>同样可以分析max，也就是A4i+1和A4i+3，重建后可以直接得到每个像素内的min max点并渲染。（d）为2像素宽度的，对应第1层；（e）为4像素宽度的，对应第2层。可以看到这些线段并不是连接在一起的，因为min-maxj聚合无法确认一些列间像素。</p>
<p><img src="/images/2025/11/image-20251104202718600.png" alt="image-20251104202718600"></p>
<h3 id="非规范数据的转换"><a href="#非规范数据的转换" class="headerlink" title="非规范数据的转换"></a>非规范数据的转换</h3><p>上述的条件都要求时序数据长度为2的幂。当有缺失值或者长度不是的情况下，可以用估计值或者0填充将其长度扩展到幂次方。然而，值填充和零填充会影响最小值和最大值的计算，从而阻碍 OM3 变换。为每个节点分配一个id。当有空子节点的时候，我们把D分配为[0,null]或[null,0]，null的位置表示null在左子节点还是右子节点。如果两个子节点都为null，则定义该节点也为空，空的节点不会存储在数据库中。因此数据库中的表的id可能是不连续的。对于判断顺序的表，从一个bool值改成用一个2bit的结构去表示。（0,0）表示false，（1,1）表示true，(0,1)表示左边的是null，(1,0)表示右边的是空，null表示两边都是空。</p>
<p><img src="/images/2025/11/image-20251105174828508.png" alt="image-20251105174828508"></p>
<h2 id="增量树的查询"><a href="#增量树的查询" class="headerlink" title="增量树的查询"></a>增量树的查询</h2><p>为了让OM3适应任意的大小，而不局限于像素列为2的幂。一种简单的想法是渲染更细的聚合，然后在重建到对应的窗口上，比如需要6列的，就建8列的，然后再渲染到6列上。而，这种方法可能会在生成的可视化中遗漏一些像素。图a显示，一个3列的窗口，构造了四列但是渲染到3列，可以看到遗漏列3个像素的内容。因为四像素宽的线形图没有为三像素宽的窗口提供适当的数据样本，尤其是在像素-列边界附近。此外，当使用正确的min-max系数时，只有一些像素被遗漏（参见图 3(d,e)）。可以通过一些列间线来恢复这些像素。</p>
<p><img src="/images/2025/11/image-20251105182459625.png" alt="image-20251105182459625"></p>
<h3 id="两步增量查询"><a href="#两步增量查询" class="headerlink" title="两步增量查询"></a>两步增量查询</h3><p>假设显示窗口的宽度 w 在某个正整数 p 的范围内为[2^p-1, 2^p]，我们首先从服务器数据库中检索宽度为 2^p 的窗口的系数，并通过逆变换重建 2^p 个数据点。在进行此两步查询之前，首先将服务器的全部排序系数发送到客户端。通过在目标窗口的每个像素列中查找最小和最大数据值，并在单个查询中获取不可或缺的列间样本，可以获得精确的聚合结果，以生成无错误的可视化。</p>
<p>然而，遍历系数树直到叶节点并从服务器传输所有信息会导致计算时间和网络带宽的额外成本。 此外，一些列间线是不必要的，如定理 1 所示。</p>
<h3 id="剪枝策略的广度优先搜索方法"><a href="#剪枝策略的广度优先搜索方法" class="headerlink" title="剪枝策略的广度优先搜索方法"></a>剪枝策略的广度优先搜索方法</h3><p>​	为了避免穷举树遍历，引入了一种带有效剪枝策略的广度优先搜索方法，以避免不必要的遍历。在遍历每一层时，初始化一个空列表 B 来存储那些包含靠近相邻像素列边界的数据点的边界节点。然后，对于每个节点，我们检查其时间范围与目标窗口中附近像素列的时间范围。如果一个节点的时间范围完全位于某个像素列的时间范围内，该节点本身就可以为更新像素列的数据值范围（即[vmin, vmax]）提供适当的信息，因此不需要进一步访问其子节点来探索更细粒度的时间范围。否则，我们将它添加到列表 B 中。</p>
<p>​	对于大于 p 层的边界节点，如果其数据值范围已经被当前两个相关像素列的数据范围所覆盖，将其从 B 中移除。一旦所有节点都被检查完毕，加载 B 中所有剩余节点的系数，并在下一层重建相应的数据点。 通过剪枝策略逐层递归地仅访问必要的子节点，可以高效地找到目标窗口中每个像素列的数据值范围，并通过相关像素列的数据值范围对内部列像素进行光栅化。</p>
<p>​	在最后一层，光栅化所有内部列像素以及由从 B 和 O 收集的有序边界样本定义的列间像素。通过这种方式，实现了渐进式可视化，其中可视化可以在逐层遍历时逐步细化。</p>
<p><img src="/images/2025/11/image-20251106000339500.png" alt="image-20251106000339500"></p>
<p>​	以图 5(c)中的节点[12, 20]为例。其时间范围[0, 15]完全落在目标三像素宽窗口中第一像素列的时间范围[0, 21]内，因此我们无需访问其子节点，可以将第一像素列的数据值范围（最小值和最大值）初始化为[12, 20]；参见图 5(d)中第 2 层结果的左侧列。</p>
<p>​	对于节点[6, 28]，其时间范围[16, 31]与目标窗口中的前两像素列重叠，因此我们将其添加到边界节点列表中，并在第 3 层访问其子节点[7, 19]（时间范围[16, 23]）和[6, 28]（时间范围[24, 31]）。之后，对于第 4 层的节点[14, 17]，其值范围被相邻的两个像素列[7, 20]和[6, 29]的值范围所覆盖，因此我们无需访问其子节点。</p>
<p>​	对于某些像素列，仅考虑每个像素列可能不足以精确地光栅化其像素。例如，叶节点[14, 22]（时间范围[42, 43]）跨越了第二个像素列（时间范围[22, 42]）和第三个像素列（时间范围[43, 63]），形成了一条不可或缺的列间线（见图 5(b)中高亮部分）。因此，将它放入边界节点列表，并将其数据点连接起来，以光栅化第 5 级结果中第 3 列的底部灰度像素（见图 5(d)）。</p>
<p>​	图 5(b)显示了穷举树遍历的情况，一次性加载所有边界节点的相关系数。图 5(c)显示了系数树中需要通过我们的剪枝策略访问的节点，图 5(d)显示了如何逐步更新每个像素列的数据值范围和光栅化（灰度像素）。请注意，剪枝策略仅搜索必要的值，正如在定理 1 中所描述的，并自动跳过值范围同时被相应连续组覆盖的列间样本。由于相邻像素列的值范围相互依赖，顺序剪除节点。</p>
<p><img src="/images/2025/11/image-20251105184603440.png" alt="image-20251105184603440"></p>
<h3 id="时间复杂度分析"><a href="#时间复杂度分析" class="headerlink" title="时间复杂度分析"></a>时间复杂度分析</h3><p>给定一个宽度为 w 的窗口，在最坏情况下，需要遍历所有边界节点，因此时间复杂度为 O(w log(n))。OM3大部分查询可以提前终止，无论时间序列的长度如何，因此时间复杂度接近 O(w)。</p>
<h2 id="额外的加速策略"><a href="#额外的加速策略" class="headerlink" title="额外的加速策略"></a>额外的加速策略</h2><p>系数存储在数据表中为：（id，minc，maxc）,对于宽度w ∈ [2^p-1, 2^p]的窗口，其中 p 是一个正整数，我们只需通过执行以下查询来加载 p-1 级别的系数：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> minc, maxc <span class="keyword">where</span> [id<span class="operator">&gt;=</span> start_id <span class="keyword">and</span> index<span class="operator">&lt;=</span> end_id].</span><br></pre></td></tr></table></figure>

<p>为了进一步降低查询延迟，引入以下三种附加策略来加速查询。</p>
<h3 id="系数预取-Coefficients-Prefetching"><a href="#系数预取-Coefficients-Prefetching" class="headerlink" title="系数预取 Coefficients Prefetching"></a>系数预取 Coefficients Prefetching</h3><p>为了更好的支持向下递归的操作，可以在 p 层和 p+1 层预加载系数。由于系数是连续存储的，从数据库中检索它们的开销很小。</p>
<h3 id="树缓存-Tree-Cache"><a href="#树缓存-Tree-Cache" class="headerlink" title="树缓存 Tree Cache"></a>树缓存 Tree Cache</h3><p>在客户端缓存之前交互中重建的系数树，通过将树作为列表存储在内存中，我们采用最近最少使用（LRU）策略进行缓存替换。在交互过程中，较粗级别的系数（上层的树节点）经常被使用，但它们通常只占用很少的内存。因此，一个小缓存就足以支持流畅的交互。</p>
<h3 id="查询合并-Query-Merging"><a href="#查询合并-Query-Merging" class="headerlink" title="查询合并 Query Merging"></a>查询合并 Query Merging</h3><p>在基于增量树形查询的交互过程中，我们需要使用以下查询从数据库中获取多个边界节点的信息：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> minc, maxc <span class="keyword">where</span> [condition1] <span class="keyword">or</span> ... <span class="keyword">or</span> [conditionN]</span><br></pre></td></tr></table></figure>

<p>其中每个条件对应边界节点的起始和结束索引。为了提高查询速度，我们将多个具有连续记录的条件合并在一起，例如：图 5(b)中级别 2 的节点[6, 28]和[13, 35]的查询可以合并。这样做可以减少总体查询时间 40%。</p>
<p>此外，使用两个线程：一个用于分析系数，另一个用于向数据库发出查询。一旦分析完成，更精细级别的查询系数可以高效地用于下一级别的分析。</p>
<h2 id="支持的交互"><a href="#支持的交互" class="headerlink" title="支持的交互"></a>支持的交互</h2><h3 id="调整大小"><a href="#调整大小" class="headerlink" title="调整大小"></a>调整大小</h3><p>会在不改变时间序列范围的情况下，改变窗口大小。比如w &#x3D; 2-4-8-16。对于显示在宽度为 w ∈ (2^p−1, 2^p ] 的窗口中的时间序列，可以分四步高效地放大到时间区间 [ta , tb ]：</p>
<ol>
<li>计算与时间戳 ta 和 tb 分别关联的节点索引(时间序列中对应的位置) μa 和 μb，级别为 p；</li>
<li>找到最小额外层ϵ ，使得|μb-μa+1|2^ϵ &gt;&#x3D; w</li>
<li>获取索引范围 [μa, μb] 内的所有节点及其子节点（从第 p + 1 层到第 p + ϵ 层）的系数；</li>
<li>执行基于树的搜索以找到边界数据点</li>
</ol>
<p>利用基于增量树的搜索方法，可以高效地执行此过程。对于缩放倍数为 2 的放大和缩小操作，当前视图中的一些边界数据点可以重用于下一个视图，从而进一步降低查询成本。</p>
<h3 id="平移和缩放"><a href="#平移和缩放" class="headerlink" title="平移和缩放"></a>平移和缩放</h3><p>会在同一个窗口下显示不同的时间范围。对于显示在宽度为 w 的窗口 [2^p−1, 2^p ] 上的时间序列，以及当前时间间隔 [ta , tb ]，平移到可能重叠的时间间隔 [tc , td ] (tb − ta &#x3D; td − tc ) 相当于缩放步骤 1 和4。</p>
<h3 id="时间框查询"><a href="#时间框查询" class="headerlink" title="时间框查询"></a>时间框查询</h3><p>用户可以选择由用户指定范围或给定矩形覆盖的线条。可以在树上BFS搜索找打破与范围框相关联的节点。有三种情况</p>
<ol>
<li>节点的值范围与框的值范围没有交集</li>
<li>节点的值范围被框的值范围完全覆盖</li>
<li>节点的值范围被框的值范围部分覆盖，因此需要进一步探索子节点以检查是否为情况 1或情况 2。</li>
</ol>
<p>由于此查询基于给定的可视化，其处理不需要与服务器通信，因此它可以在客户端单独运行得非常快。一旦查询的线条可用，用户可以通过平移、缩放和调整大小等操作进一步与查询的线条进行交互。</p>

        
      </div>

         
    </div>
    
     
  </div>
  
    
<nav id="article-nav">
  <a class="article-nav-btn left "
    
      href="/2025/11/06/Transformation%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/"
      title="Visualization-Oriented Progressive Time Series Transformation论文笔记"
     >
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
      
        Visualization-Oriented Progressive Time Series Transformation论文笔记
        
    </p>
  </a>
  <a class="article-nav-btn right "
    
      href="/2024/11/17/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/"
      title="机器学习复习笔记"
     >

    <p class="title-text">
      
        机器学习复习笔记
        
    </p>
    <i class="fa-solid fa-angle-right"></i>
  </a>
</nav>


  
</article>





    </div>
    <div id="footer-wrapper">
      <footer id="footer">
  
  <div id="footer-info" class="inner">
    
    &copy; 2025 meguriri<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
